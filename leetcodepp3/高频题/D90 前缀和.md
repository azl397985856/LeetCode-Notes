# 前缀和

- 前缀和
  - [LC 560. Subarray Sum Equals K](#LC-560.-Subarray-Sum-Equals-K)

## LC 560. Subarray Sum Equals K

### 思路

前缀和

### 代码 JavaScript

```JavaScript
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number}
 */
var subarraySum = function(nums, k) {
  //前缀和
  // sum => # of apperance
  const preSum = new Map();
  // 0要有不然会漏判subarray.length == 1的情况
  preSum.set(0,1)

  let ans = 0;
  let curSum = 0
  //for nums[j..i]
  // presum[i] - presum[j -1] = k
  for(let i = 0; i < nums.length; i++){
    curSum += nums[i]
    if(preSum.has( curSum - k)){
      // presum[i] - k = presum[j - 1]
      ans+= preSum.get(  curSum - k) //因为要找j 且 j必小于i
    }
    preSum.set(curSum, (preSum.get(curSum) || 0) + 1)
  }
  return ans;
};

```

### 复杂度分析

时间复杂度：O(N)</br>
空间复杂度：O(N)
